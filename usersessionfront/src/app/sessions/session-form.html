<div class="h-15 bg-white shadow-md p-4">
  <app-breadcrumbs [bcdata]="breadcrumbData" class="h-full block w-full"></app-breadcrumbs>
</div>

 <div class="mt-3 px-6 py-4">
  <div class="w-full shadow-sm bg-white">
    <form [formGroup]="form" (ngSubmit)="submit()"
      class="mt-10 p-6 max-w-xl mx-auto bg-white shadow-md rounded-lg space-y-6">

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
        <input type="date" formControlName="date" [ngClass]="{
      'border-red-500 ring-red-500': form.get('date')?.invalid && form.get('date')?.touched,
      'border-gray-300 focus:ring-blue-500 focus:border-blue-500': !(form.get('date')?.invalid && form.get('date')?.touched)
    }" class="w-full rounded-md px-3 py-2 shadow-sm border focus:outline-none focus:ring-2" />
        <div *ngIf="form.get('date')?.invalid && form.get('date')?.touched" class="text-red-500 text-sm mt-1">
          Date is required.
        </div>
      </div>

      <div>
  <label class="block text-sm font-medium text-gray-700 mb-1">Tech Stack</label>
  <app-tech-dropdown formControlName="techStack">
  </app-tech-dropdown>

  <div *ngIf="form.get('techStack')?.invalid && form.get('techStack')?.touched" class="text-red-500 text-sm mt-1">
    Tech Stack is required.
  </div>
</div>

       <div formArrayName="topics">
        <label class="block text-sm font-medium text-gray-700 mb-1">Topics Covered</label>

        <div *ngFor="let topic of topics.controls; let i = index" class="flex gap-2 items-center mb-2">
          <input [formControlName]="i" type="text" placeholder="Enter topic" [ngClass]="{
        'border-red-500 ring-red-500': topic.invalid && topic.touched,
        'border-gray-300 focus:ring-blue-500 focus:border-blue-500': !(topic.invalid && topic.touched)
      }" class="flex-1 rounded-md px-3 py-2 shadow-sm border focus:outline-none focus:ring-2" />
          <button type="button" (click)="removeTopic(i)"
            class="text-red-500 hover:text-red-700 font-bold text-xl leading-none">&times;</button>
        </div>

        <div *ngIf="topics.invalid && form.touched" class="text-red-500 text-sm mt-1">
          At least one topic is required.
        </div>

        <button type="button" (click)="addTopic()" class="text-blue-600 text-sm hover:underline">+ Add Topic</button>
      </div>

       <button type="submit" [disabled]="form.invalid"
        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md shadow disabled:bg-gray-400 disabled:cursor-not-allowed">
        Save Session
      </button>
    </form>
  </div>
</div>
