<div class="h-15 bg-white shadow-md p-4">
  <app-breadcrumbs [bcdata]="breadcrumbData" class="h-full block w-full"></app-breadcrumbs>
</div>
<div class="flex justify-end mb-4 p-4">
  <a routerLink="/sessions/new">
    <button
      class="mt-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold px-4 py-2 rounded shadow flex items-center gap-2">
      <!-- Add Icon -->
      <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
      </svg>
      Add Sessions
    </button>
  </a>
</div>

<div class="w-full shadow-sm bg-white">
  <div class="w-full shadow-sm bg-white">
    <div class="p-4">
      <div *ngIf="paginatedSessions.length > 0; else noData">
        <div class="overflow-x-auto">
          <table class="min-w-full border border-gray-300 rounded-md shadow-sm">
            <thead class="bg-gray-100">
              <tr>
                <th>S.No</th>
                <th class="px-4 py-2 border border-gray-300 text-left">Date</th>
                <th class="px-4 py-2 border border-gray-300 text-left">Tech Stack</th>
                <th class="px-4 py-2 border border-gray-300 text-left">Topics</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let session of paginatedSessions; let i = index" class="hover:bg-gray-50">
                <td class="px-4 py-2 border border-gray-300">
                  {{ (currentPage - 1) * pageSize + i + 1 }}
                </td>
                <td class="px-4 py-2 border border-gray-300">{{ session.date }}</td>
                <td class="px-4 py-2 border border-gray-300">{{ session.techStack }}</td>
                <td class="px-4 py-2 border border-gray-300">
                  {{ session.topics.join(', ') }}
                </td>
                <td class="px-4 py-2 border border-gray-300">
                  <button (click)="deleteSession(session.id)"
                    class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded flex items-center gap-2">
                    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2"
                      viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path stroke-linecap="round" stroke-linejoin="round"
                        d="M6 7.5h12M9.75 7.5v-1.125c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V7.5M18 7.5v10.125A2.625 2.625 0 0115.375 20.25H8.625A2.625 2.625 0 016 17.625V7.5" />
                    </svg>
                    Delete
                  </button>
                </td>

              </tr>
            </tbody>
          </table>
        </div>

         <div class="flex gap-2 justify-center mt-4">
          <button (click)="previousPage()" [disabled]="currentPage === 1"
            class="px-3 py-1 border rounded disabled:opacity-50">
            Prev
          </button>

          <button *ngFor="let page of pages" (click)="goToPage(page)" [class.bg-blue-500]="page === currentPage"
            [class.text-white]="page === currentPage" class="px-3 py-1 border rounded hover:bg-blue-100">
            {{ page }}
          </button>

          <button (click)="nextPage()" [disabled]="currentPage === totalPages"
            class="px-3 py-1 border rounded disabled:opacity-50">
            Next
          </button>
        </div>
      </div>
      <ng-template #noData>
        <p class="text-center text-gray-500">No sessions found.</p>
      </ng-template>
    </div>
  </div>
</div>
