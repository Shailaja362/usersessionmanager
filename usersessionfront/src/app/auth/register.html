<form [formGroup]="form" (ngSubmit)="register()"
  class="max-w-md mx-auto mt-10 bg-white p-6 rounded-2xl shadow-md space-y-6">
  <h2 class="text-2xl font-bold text-center text-gray-800">Sign Up</h2>

  <div *ngIf="form.errors?.['serverError']"
    class="text-sm text-red-600 text-center bg-red-100 border border-red-400 p-2 rounded">
    {{ form.errors?.['serverError'] }}
  </div>

  <div>
    <label class="block mb-1 text-sm font-medium text-gray-700">Email</label>
    <input type="email" formControlName="email" placeholder="you@example.com" autocomplete="email"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      [ngClass]="{ 'border-red-500': email.touched && email.invalid }" />
    <div *ngIf="email?.touched && email?.errors" class="text-sm text-red-600 mt-1">
      <div *ngIf="email?.errors?.['required']">Email is required.</div>
      <div *ngIf="email?.errors?.['email']">Enter a valid email.</div>
      <div *ngIf="email.errors?.['serverError']">{{ email.errors?.['serverError'] }}</div>
    </div>
  </div>

  <div>
    <label class="block mb-1 text-sm font-medium text-gray-700">Password</label>
    <input type="password" formControlName="password" placeholder="••••••••" autocomplete="new-password"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
      [ngClass]="{ 'border-red-500': password.touched && password.invalid }" />
    <div *ngIf="password?.touched && password?.errors" class="text-sm text-red-600 mt-1">
      <div *ngIf="password?.errors?.['required']">Password is required.</div>
      <div *ngIf="password?.errors?.['serverError']">{{ password.errors?.['serverError'] }}</div>
    </div>
  </div>

  <div>
    <label class="block mb-1 text-sm font-medium text-gray-700">Confirm Password</label>
    <input type="password" formControlName="confirmPassword" placeholder="••••••••" autocomplete="new-password"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" [ngClass]="{
        'border-red-500': confirmPassword?.touched &&
                          (confirmPassword?.invalid || form.errors?.['mismatch'])
      }" />
    <div *ngIf="confirmPassword?.touched" class="text-sm text-red-600 mt-1">
      <div *ngIf="confirmPassword?.errors?.['required']">Confirm Password is required.</div>
      <div *ngIf="form.errors?.['mismatch']">Passwords do not match.</div>
    </div>
  </div>

  <button type="submit"
    class="w-full py-2 text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition duration-200 font-semibold">
    Sign Up
  </button>

  <div class="text-center text-sm text-gray-600">
    Already have an account?
    <a routerLink="/login" class="text-blue-600 hover:underline font-medium">Sign in</a>
  </div>
</form>
